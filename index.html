<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b1020" />
  <title>FleetPro</title>

  <!-- Cache-bust params: change the number any time you want to force refresh -->
  <link rel="stylesheet" href="styles.css?v=20251224_2217">
  <script src="app.js?v=20251224_2217" defer></script>
</head>

<body>
  <div class="app">
    <!-- LEFT SIDEBAR -->
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-mark"></div>
        <div class="brand-text">
          <div class="brand-name">FLEETPRO</div>
          <div class="brand-sub">Local Storage: <span class="pill">ON</span></div>
          <div class="brand-sub muted">Foundation build</div>
        </div>
      </div>

      <nav class="nav">
        <button class="navbtn active" data-view="dashboard" type="button">Dashboard</button>
        <button class="navbtn" data-view="calendar" type="button">Calendar</button>
        <button class="navbtn" data-view="day" type="button">Day Workspace</button>

        <div class="nav-sep"></div>

        <button class="navbtn" data-view="drivers" type="button" disabled>Drivers</button>
        <button class="navbtn" data-view="trucks" type="button" disabled>Trucks</button>
        <button class="navbtn" data-view="dispatch" type="button" disabled>Dispatch</button>
        <button class="navbtn" data-view="finance" type="button" disabled>Finance</button>
        <button class="navbtn" data-view="inventory" type="button" disabled>Inventory</button>
        <button class="navbtn" data-view="scanner" type="button" disabled>AI Scanner</button>
      </nav>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <!-- TOP BAR -->
      <header class="topbar">
        <div class="topbar-left">
          <div class="page-title">Operations</div>
          <div class="page-sub muted" id="activeContext">Foundation mode (Smart)</div>
        </div>

        <div class="topbar-right">
          <div class="clock" id="clock">--:--:--</div>
          <div class="status">
            <span class="dot"></span>
            <span>SYSTEM LIVE</span>
          </div>
        </div>
      </header>

      <!-- TOOLBAR (scrollable handled by CSS if you added it) -->
      <section class="toolbar">
        <div class="toolbar-inner">
          <button class="btn" id="btnToday" type="button">Today</button>
          <button class="btn" id="btnPrev" type="button">◀</button>
          <button class="btn" id="btnNext" type="button">▶</button>

          <div class="tool-sep"></div>

          <button class="btn primary" id="btnAddJob" type="button">+ Job (Day)</button>
          <button class="btn" id="btnAddReceipt" type="button">+ Receipt (Day)</button>
          <button class="btn" id="btnAddNote" type="button">+ Note (Day)</button>

          <div class="tool-sep"></div>

          <button class="btn ghost" type="button" disabled>Export (later)</button>
          <button class="btn ghost" type="button" disabled>Sync (later)</button>
        </div>
      </section>

      <!-- VIEWS -->
      <section class="content">
        <!-- DASHBOARD -->
        <div class="view active" id="view-dashboard">
          <div class="grid">
            <div class="card wide">
              <div class="card-title">Today</div>
              <div class="h1" id="todayDate">--</div>
              <div class="muted" id="todaySummary">--</div>
              <div class="row">
                <button class="btn primary" id="openToday" type="button">Open Today</button>
                <button class="btn" id="openCalendar" type="button">Open Calendar</button>
              </div>
            </div>

            <div class="card wide">
              <div class="card-title">Pressure Points (placeholder)</div>
              <ul class="list">
                <li class="muted">Overbooked drivers: AI later</li>
                <li class="muted">Truck maintenance conflicts: rules later</li>
                <li class="muted">Receipts missing: driver app later</li>
              </ul>
            </div>

            <div class="card wide">
              <div class="card-title">This Month Snapshot</div>
              <div class="stats" id="monthStats">
                <!-- JS fills -->
              </div>
            </div>
          </div>
        </div>

        <!-- CALENDAR -->
        <div class="view" id="view-calendar">
          <div class="card wide">
            <div class="card-title" id="monthLabel">Month</div>
            <div class="muted">Click any day tile to enter the Day Workspace.</div>

            <div class="cal-head">
              <div class="cal-dow">Sun</div><div class="cal-dow">Mon</div><div class="cal-dow">Tue</div>
              <div class="cal-dow">Wed</div><div class="cal-dow">Thu</div><div class="cal-dow">Fri</div>
              <div class="cal-dow">Sat</div>
            </div>

            <div class="calendar-grid" id="calendarGrid">
              <!-- JS fills -->
            </div>
          </div>
        </div>

        <!-- DAY WORKSPACE -->
        <div class="view" id="view-day">
          <div class="day-head">
            <div class="day-head-left">
              <div class="card-title">Day Workspace</div>
              <div class="h1" id="dayLabel">--</div>
              <div class="muted" id="dayMeta">--</div>
            </div>

            <div class="day-head-right" id="dayTotals">
              <!-- JS fills pills -->
            </div>
          </div>

          <!-- warnings panel is injected by JS (smartWarningsPanel) -->

          <!-- Tabs -->
          <div class="tabs" id="tabs">
            <button class="tab active" data-tab="jobs" type="button">Jobs</button>
            <button class="tab" data-tab="drivers" type="button">Drivers</button>
            <button class="tab" data-tab="trucks" type="button">Trucks</button>
            <button class="tab" data-tab="records" type="button">Records</button>
            <button class="tab" data-tab="media" type="button">Media</button>
            <button class="tab" data-tab="ai" type="button">AI Notes</button>
          </div>

          <!-- PANES -->
          <div class="panes">
            <!-- JOBS -->
            <div class="pane active" id="pane-jobs">
              <div class="pane-bar">
                <button class="btn primary" id="addJobRow" type="button">+ Add Job</button>
                <div class="muted">Edit cells directly.</div>
              </div>

              <div class="table-wrap">
                <table class="sheet">
                  <thead>
                    <tr>
                      <th>Job ID</th>
                      <th>Customer</th>
                      <th>Pickup</th>
                      <th>Dropoff</th>
                      <th>Volume</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody id="jobsBody"></tbody>
                </table>
              </div>

              <div class="help muted">
                Pickup = where items start (origin). Dropoff = where items end (destination).
              </div>
            </div>

            <!-- DRIVERS -->
            <div class="pane" id="pane-drivers">
              <div class="pane-bar">
                <button class="btn primary" id="addDriverRow" type="button">+ Add Driver</button>
                <div class="muted">Day-specific roster (v1 foundation).</div>
              </div>

              <div class="table-wrap">
                <table class="sheet">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Status</th>
                      <th>Hours</th>
                      <th>Notes</th>
                    </tr>
                  </thead>
                  <tbody id="driversBody"></tbody>
                </table>
              </div>
            </div>

            <!-- TRUCKS -->
            <div class="pane" id="pane-trucks">
              <div class="pane-bar">
                <button class="btn primary" id="addTruckRow" type="button">+ Add Truck</button>
                <div class="muted">Capacity drives volume warnings.</div>
              </div>

              <div class="table-wrap">
                <table class="sheet">
                  <thead>
                    <tr>
                      <th>Truck ID</th>
                      <th>Status</th>
                      <th>Capacity</th>
                      <th>Mileage</th>
                    </tr>
                  </thead>
                  <tbody id="trucksBody"></tbody>
                </table>
              </div>
            </div>

            <!-- RECORDS -->
            <div class="pane" id="pane-records">
              <div class="pane-bar">
                <button class="btn primary" id="addRecordRow" type="button">+ Add Record</button>
                <div class="muted">Receipts/notes live here (AI later).</div>
              </div>

              <div class="table-wrap">
                <table class="sheet">
                  <thead>
                    <tr>
                      <th>Type</th>
                      <th>Source</th>
                      <th>Linked Entity</th>
                      <th>Raw Data</th>
                      <th>Approved</th>
                      <th>Created</th>
                    </tr>
                  </thead>
                  <tbody id="recordsBody"></tbody>
                </table>
              </div>

              <div class="help muted">
                Receipt format example: <code>Vendor=Shell, Amount=52.19, Category=Fuel</code>
              </div>
            </div>

            <!-- MEDIA -->
            <div class="pane" id="pane-media">
              <div class="card wide">
                <div class="card-title">Media</div>
                <div class="muted">Placeholder. (Customer photo intake + driver receipts capture later.)</div>
                <div class="row">
                  <button class="btn ghost" id="addMediaPlaceholder" type="button" disabled>Add Media (later)</button>
                </div>
              </div>
            </div>

            <!-- AI NOTES -->
            <div class="pane" id="pane-ai">
              <div class="card wide">
                <div class="card-title">AI Notes</div>
                <div class="muted">Annotation-only. No mutation.</div>
                <div class="table-wrap">
                  <table class="sheet">
                    <thead>
                      <tr>
                        <th>Model</th>
                        <th>Confidence</th>
                        <th>Summary</th>
                        <th>Warnings</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="muted">—</td>
                        <td class="muted">—</td>
                        <td class="muted">—</td>
                        <td class="muted">—</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

          </div><!-- /panes -->
        </div><!-- /view-day -->

        <!-- Placeholder views for future nav (kept so sidebar clicks don't explode if you enable them later) -->
        <div class="view" id="view-drivers"></div>
        <div class="view" id="view-trucks"></div>
        <div class="view" id="view-dispatch"></div>
        <div class="view" id="view-finance"></div>
        <div class="view" id="view-inventory"></div>
        <div class="view" id="view-scanner"></div>

      </section><!-- /content -->
    </main><!-- /main -->
  </div><!-- /app -->
</body>
</html>
